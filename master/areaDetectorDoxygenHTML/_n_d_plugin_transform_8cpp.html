<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>areaDetector: /home/travis/build/areaDetector/areaDetector/ADCore/ADApp/pluginSrc/NDPluginTransform.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">areaDetector
   &#160;<span id="projectnumber">3-4-0</span>
   </div>
   <div id="projectbrief">EPICS areaDetector framework</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_75b82e7e4a5feb05200b9ad7adf06257.html">home</a></li><li class="navelem"><a class="el" href="dir_bacb04149764cbf6394e26ac332ca39a.html">travis</a></li><li class="navelem"><a class="el" href="dir_658dffd2684749c363737148727fc8b1.html">build</a></li><li class="navelem"><a class="el" href="dir_dd71d78b40c18c4b8811cac0f5617fa8.html">areaDetector</a></li><li class="navelem"><a class="el" href="dir_5aabe6a293379217c12c0c4789d3b101.html">areaDetector</a></li><li class="navelem"><a class="el" href="dir_c88c859250825677dd23a765e7f206e7.html">ADCore</a></li><li class="navelem"><a class="el" href="dir_40c5ed3de26c7e3429143e3925e8b8e4.html">ADApp</a></li><li class="navelem"><a class="el" href="dir_2ffe2257f8ce6ca28d34932dd46cdc77.html">pluginSrc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">NDPluginTransform.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;math.h&gt;</code><br/>
<code>#include &lt;epicsTypes.h&gt;</code><br/>
<code>#include &lt;epicsMessageQueue.h&gt;</code><br/>
<code>#include &lt;epicsThread.h&gt;</code><br/>
<code>#include &lt;epicsEvent.h&gt;</code><br/>
<code>#include &lt;epicsTime.h&gt;</code><br/>
<code>#include &lt;iocsh.h&gt;</code><br/>
<code>#include &lt;asynDriver.h&gt;</code><br/>
<code>#include &lt;epicsExport.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="_n_d_plugin_driver_8h_source.html">NDPluginDriver.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="_n_d_plugin_transform_8h_source.html">NDPluginTransform.h</a>&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4344e6cbe2a592a575609ca60407f243"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243">NDPluginTransformType_t</a> { <br/>
&#160;&#160;<a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243a82bab56427acfb99bd75510024964b7b">TransformNone</a>, 
<a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243ac3ee29be09cd9138225ff71362a92a82">TransformRotate90</a>, 
<a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243a4bdc9443a159e9831dcd5d840f523825">TransformRotate180</a>, 
<a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243a1040f0c507c0e6f78e63a55b6ccee52d">TransformRotate270</a>, 
<br/>
&#160;&#160;<a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243a281cd3272515e091e3b846e9f570ce62">TransformMirror</a>, 
<a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243ad3b6163c58f491f0c1ef715c32b24131">TransformRotate90Mirror</a>, 
<a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243a1a4aa9f66afefb780f52448d0ded9803">TransformRotate180Mirror</a>, 
<a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243a283f0bb6ab654612c703cd8f2c460802">TransformRotate270Mirror</a>
<br/>
 }</td></tr>
<tr class="separator:a4344e6cbe2a592a575609ca60407f243"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a412126af6356f98a810399dd52406d34"><td class="memTemplParams" colspan="2">template&lt;typename epicsType &gt; </td></tr>
<tr class="memitem:a412126af6356f98a810399dd52406d34"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="_n_d_plugin_transform_8cpp.html#a412126af6356f98a810399dd52406d34">transformNDArray</a> (<a class="el" href="class_n_d_array.html">NDArray</a> *inArray, <a class="el" href="class_n_d_array.html">NDArray</a> *outArray, int transformType, int colorMode, <a class="el" href="_n_d_array_8h.html#a40ca64184004eb176f286a3890cd91b4">NDArrayInfo_t</a> *arrayInfo)</td></tr>
<tr class="memdesc:a412126af6356f98a810399dd52406d34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform the move of the pixels to the new orientation.  <a href="#a412126af6356f98a810399dd52406d34">More...</a><br/></td></tr>
<tr class="separator:a412126af6356f98a810399dd52406d34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51a8a35d259ee16ff366a76733dcbc0a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_d_plugin_transform_8cpp.html#a51a8a35d259ee16ff366a76733dcbc0a">NDTransformConfigure</a> (const char *portName, int queueSize, int blockingCallbacks, const char *NDArrayPort, int NDArrayAddr, int maxBuffers, size_t maxMemory, int priority, int stackSize, int maxThreads)</td></tr>
<tr class="memdesc:a51a8a35d259ee16ff366a76733dcbc0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuration command.  <a href="#a51a8a35d259ee16ff366a76733dcbc0a">More...</a><br/></td></tr>
<tr class="separator:a51a8a35d259ee16ff366a76733dcbc0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7da7816a7fc9297ed030fa0b93f40d7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_d_plugin_transform_8cpp.html#a7da7816a7fc9297ed030fa0b93f40d7c">NDTransformRegister</a> (void)</td></tr>
<tr class="separator:a7da7816a7fc9297ed030fa0b93f40d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a031e2571f1779efe7ac3d2c3af7bc076"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_n_d_plugin_transform_8cpp.html#a031e2571f1779efe7ac3d2c3af7bc076">epicsExportRegistrar</a> (<a class="el" href="_n_d_plugin_transform_8cpp.html#a7da7816a7fc9297ed030fa0b93f40d7c">NDTransformRegister</a>)</td></tr>
<tr class="separator:a031e2571f1779efe7ac3d2c3af7bc076"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a4344e6cbe2a592a575609ca60407f243"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="_n_d_plugin_transform_8cpp.html#a4344e6cbe2a592a575609ca60407f243">NDPluginTransformType_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a4344e6cbe2a592a575609ca60407f243a82bab56427acfb99bd75510024964b7b"></a>TransformNone</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4344e6cbe2a592a575609ca60407f243ac3ee29be09cd9138225ff71362a92a82"></a>TransformRotate90</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4344e6cbe2a592a575609ca60407f243a4bdc9443a159e9831dcd5d840f523825"></a>TransformRotate180</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4344e6cbe2a592a575609ca60407f243a1040f0c507c0e6f78e63a55b6ccee52d"></a>TransformRotate270</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4344e6cbe2a592a575609ca60407f243a281cd3272515e091e3b846e9f570ce62"></a>TransformMirror</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4344e6cbe2a592a575609ca60407f243ad3b6163c58f491f0c1ef715c32b24131"></a>TransformRotate90Mirror</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4344e6cbe2a592a575609ca60407f243a1a4aa9f66afefb780f52448d0ded9803"></a>TransformRotate180Mirror</em>&#160;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a4344e6cbe2a592a575609ca60407f243a283f0bb6ab654612c703cd8f2c460802"></a>TransformRotate270Mirror</em>&#160;</td><td class="fielddoc">
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a031e2571f1779efe7ac3d2c3af7bc076"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">epicsExportRegistrar </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_n_d_plugin_transform_8cpp.html#a7da7816a7fc9297ed030fa0b93f40d7c">NDTransformRegister</a>&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a51a8a35d259ee16ff366a76733dcbc0a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NDTransformConfigure </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>portName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>queueSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blockingCallbacks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>NDArrayPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>NDArrayAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxBuffers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>maxMemory</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>stackSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxThreads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configuration command. </p>

</div>
</div>
<a class="anchor" id="a7da7816a7fc9297ed030fa0b93f40d7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NDTransformRegister </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a412126af6356f98a810399dd52406d34"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename epicsType &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void transformNDArray </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>inArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_n_d_array.html">NDArray</a> *&#160;</td>
          <td class="paramname"><em>outArray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>transformType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>colorMode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_n_d_array_8h.html#a40ca64184004eb176f286a3890cd91b4">NDArrayInfo_t</a> *&#160;</td>
          <td class="paramname"><em>arrayInfo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform the move of the pixels to the new orientation. </p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>The values of colorStride and yStride need to change because the dimensions of the image may have changed.</p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>Calculate a new value for the Y stride.</p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>The values of colorStride and yStride need to change because the dimensions of the image may have changed.</p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>Calculate a new value for the Y stride.</p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>The values of colorStride and yStride need to change because the dimensions of the image may have changed.</p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>Calculate a new value for the Y stride.</p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>The values of colorStride and yStride need to change because the dimensions of the image may have changed.</p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>Calculate a new value for the Y stride.</p>
<p>Copy three values for each iteration of the inner loop. This moves the red, green, and blue information.</p>
<p>In this mode, we are moving an entire row at once. First all of the red rows are moved. Next, all of the green rows are moved. Lastly, all of the blue rows are moved. In mono mode, the outer loop only executes once.</p>
<p>In this mode, we are moving three rows at a time. All the red, green, and blue information for each for are moved at once. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
